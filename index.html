<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATL & PVR Flipboard Countdown</title>
<link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Bungee', cursive;
    background: #111;
    color: #fff;
    text-align: center;
    margin: 0;
    padding: 30px;
  }

  .board-frame {
    background: #000;
    border: 3px solid #ffcc00;
    border-radius: 8px;
    padding: 20px;
    margin: 20px auto;
    width: fit-content;
    box-shadow: 0 0 20px rgba(255,204,0,0.4);
  }

  .divider {
    height: 2px;
    background: #ffcc00;
    margin: 15px 0;
  }

  .countdown-container {
    margin: 40px 0;
  }

  /* Flip label container */
  .label {
    display: inline-flex;
    gap: 5px;
    margin-bottom: 15px;
  }

  /* Each letter flips individually */
  .letter {
    background: #111;
    color: #ffcc00;
    padding: 10px 8px;
    font-size: 2em;
    border-radius: 4px;
    box-shadow: inset 0 -2px 3px rgba(0,0,0,0.7);
    transform-origin: bottom;
    animation: flipIn 0.4s ease forwards;
    text-shadow: 0 0 5px rgba(255,204,0,0.6);
  }

  /* Flip animation */
  @keyframes flipIn {
    0% { transform: rotateX(90deg); opacity: 0; }
    100% { transform: rotateX(0); opacity: 1; }
  }

  .board {
    display: inline-block;
    margin: auto;
    background: #111;
    padding: 10px;
    border-radius: 4px;
    box-shadow: inset 0 -2px 5px rgba(0,0,0,0.7);
  }

  /* Add slight glow to countdown text */
  .splitflap__cell {
    color: #ffcc00 !important;
    text-shadow: 0 0 4px rgba(255,204,0,0.7);
  }
</style>

<!-- Split-flap library -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/conartist6/splitflap/dist/splitflap.css">
<script src="https://cdn.jsdelivr.net/gh/conartist6/splitflap/dist/splitflap.min.js"></script>
</head>
<body>

<div class="board-frame">
  <div class="countdown-container">
    <div class="label" id="labelATL"></div>
    <div class="divider"></div>
    <div class="board" id="boardATL"></div>
  </div>
</div>

<div class="board-frame">
  <div class="countdown-container">
    <div class="label" id="labelPVR"></div>
    <div class="divider"></div>
    <div class="board" id="boardPVR"></div>
  </div>
</div>

<script>
// Function to create flip labels
function createFlipLabel(containerId, text) {
  const container = document.getElementById(containerId);
  container.innerHTML = '';
  [...text].forEach((char, index) => {
    const span = document.createElement('span');
    span.className = 'letter';
    span.style.animationDelay = `${index * 0.1}s`;
    span.textContent = char;
    container.appendChild(span);
  });
}

// Create labels with emojis
createFlipLabel('labelATL', 'ATL ‚úàÔ∏è');
createFlipLabel('labelPVR', 'PVR üå¥üçπ');

// Initialize boards
const boardATL = new SplitFlap('#boardATL', { chars: '0123456789dhms', rows: 1, cols: 11 });
const boardPVR = new SplitFlap('#boardPVR', { chars: '0123456789dhms', rows: 1, cols: 11 });

function updateBoard(board, targetDate) {
  const now = new Date();
  const diff = targetDate - now;

  if (diff <= 0) {
    board.setText("TIME'S UP!");
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const mins = Math.floor((diff / (1000 * 60)) % 60);
  const secs = Math.floor((diff / 1000) % 60);

  const formatted = `${days}d ${hours}h ${mins}m ${secs}s`;
  board.setText(formatted);
}

setInterval(() => {
  updateBoard(boardATL, new Date('2025-09-01T13:48:00Z')); // ATL
  updateBoard(boardPVR, new Date('2025-09-02T17:10:00Z')); // PVR
}, 1000);
</script>

</body>
</html>
